<!DOCTYPE html>
<html>
    <head>
        <title>Sync Async</title>
    </head>

    <body>
        <script>
            // Synchronous means the code will execute one after the another
            // Asynchronous means the code not guarantee to execute one after another

            // To handle asynchronous calls we will use callbacks , such as db and api 
            // calls , asynchrounous in nature

            // When we make db or api call then make another call based on data returned by api call
            // then we will handle using callback

            //Asynchronous called as non block


            // console.log("1");
            // console.log("2");
            // console.log("3");


            // console.log("1");
            // setTimeout(function(){
            //     console.log("2");
            // },1000);
            // console.log("3");


            // function print(){
            //     console.log("1");
            // }
            // setTimeout(print,1000);
            // console.log("3");


            // function sayHello(){
            //     console.log("Hello");
            // }
            // function greet(msg,fn){
            //     console.log("Hello",msg);
            //     fn();
            // }
            // greet("Good Morning",sayHello);
            // Benefit of callback is the function will wait for the result of previous function



            // function sayHello2(){
            //     console.log("Hello");
            // }
            // function greet2(){
            //     console.log("Hello greet");
            // }
            // setTimeout(greet2,3000);
            // sayHello2();



            // function sayHello3(){
            //     console.log("Hello");
            // }
            // function greet3(fn){
            //     console.log("Hello greet");
            //     fn();
            // }
            // setTimeout(greet3,3000,sayHello3);
            


            // function getUsers(){
            //     setTimeout(()=>{
            //         console.log("Hello");
            //         return {
            //             name:"Tehith",
            //             age:"20",
            //             id:"101"
            //         } 
            //     },1000);    
            // }
            // function showUser(){
            //     console.log("Users info received from db");
            // }
            // getUsers();
            // showUser();



            // function getUsers(fn){
            //     setTimeout(()=>{
            //         console.log("Fetching User");
            //         fn({
            //             name:"Tehith",
            //             age:"20",
            //             id:"101"
            //         })
            //     },1000);    
            // }
            // function showUser(user){
            //     console.log("Users info received from db",user);
            // }
            // getUsers(showUser);



            // function show(){
            //     console.log("Hello inside show");
            // }
            // function display(){
            //     console.log("Hello inside display");
            // }
            // show();
            // display();



            // function show(){
            //     setTimeout(
            //         function(){
            //             console.log("Hello inside show");
            //         },1000
            //     )
            // }
            // function display(){
            //     console.log("Hello inside display");
            // }
            // show();
            // display();



            // function getPostData(){
            //     fetch('https://jsonplaceholder.typicode.com/todos/1')
            //     .then(response => response.json())
            //     .then(json => console.log(json))
            // }
            // function displayPostData(){
            //     console.log("I am displaying post data");
            // }
            // getPostData();
            // displayPostData();



            // function getPostData(fn){
            //     fetch('https://jsonplaceholder.typicode.com/todos/1')
            //     .then(function(res){
            //         console.log("I got the data");
            //         fn();
            //     })
            // }
            // function displayPostData(){
            //     console.log("I am displaying post data");
            // }
            // getPostData(displayPostData);



            // function getPostData(fn){
            //     fetch('https://jsonplaceholder.typicode.com/todos/1')
            //     .then(function(res){
            //         console.log("I got the data");
            //         fn();
            //     })
            // }
            // function displayPostData(){
            //     console.log("I am displaying post data");
            // }
            // getPostData(displayPostData);
            // console.log("Execute me after all done");



            // function getPostData(callback1,callback2){
            //     fetch('https://jsonplaceholder.typicode.com/todos/1')
            //     .then(function(res){
            //         console.log("I got the data");
            //         callback1(callback2);
            //     })
            // }
            // function displayPostData(callback2){
            //     console.log("I am displaying post data");
            //     callback2();
            // }
            // getPostData(displayPostData,last);
            // function last(){
            //     console.log("Execute me after all done");
            // }



            // function placeOrder(callback){
            //     setTimeout(function(){
            //         console.log("Placing Order");
            //         callback();
            //     },2000);
            // }
            // function pay(){
            //     console.log("Payment Done");
            // }
            // placeOrder(pay);



                            // Promises



            // function placeOrder(){
            //     return new Promise(function(resolve,reject){
            //         setTimeout(function(){
            //         console.log("Placing Order");
            //         // resolve("Order Placed");
            //         resolve({orderid:"240","item":"Samsung"});
            //     },2000);
            //     })
            // }
            // function pay(){
            //     console.log("Payment Done");
            // }
            // placeOrder().then(function(data){
            //     console.log(data);
            //     pay();
            // }).catch(function(Error){
            //     console.log("Error occured while placing order");
            // })



            // function placeOrder(){
            //     return new Promise(function(resolve,reject){
            //         setTimeout(function(){
            //         console.log("Placing Order");
            //         // resolve("Order Placed");
            //         reject("Order not placed , network error");
            //     },2000);
            //     })
            // }
            // function pay(){
            //     console.log("Payment Done");
            // }
            // placeOrder().then(function(data){
            //     console.log(data);
            //     pay();
            // }).catch(function(error){
            //     console.log("Error occured while placing order",error);
            // })

            // let p1=new Promise(function(resolve,reject));
            // p1.then();
            //You can also use like this to create promises



            function getPost(){
                console.log("calling api to get data");
                fetch('https://jsonplaceholder.typicode.com/todos/1')
                .then(function(res){
                    console.log("api called successfully got the data");
                    displaydata();
                })
            }
            function displaydata(){
                console.log("Displaying data");
            }
            getPost();

                            // Inversion of Control
        </script>
    </body>